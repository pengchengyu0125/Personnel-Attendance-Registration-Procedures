<!DOCTYPE html>
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>分页</title>
    <link rel="stylesheet" type="text/css" href="/css/elementUI.css">
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/bootstrap-theme.min.css">
    <script src="/js/elementUI.js"></script>
    <script src="/js/jquery-3.5.1.min.js"></script>
    <script src="/js/bootstrap.min.js" type="application/javascript"></script>
    <script src="/js/vue.js"></script>
    <script src="/js/laydate/laydate.js"></script>
    <script src="/js/layer/layer.js"></script>
</head>
<body>
<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="/paging">访客登记信息页</a>
        </div>
    </div>
</nav>
<div><h2 style="position: relative;left: 44%;margin-top: 40px;width: fit-content;">访客登记信息审核</h2></div>
<form class="form-inline" style="position:relative;left:18%;margin-top:3%;width:fit-content" name="form1" action="/paging" method="get" onSubmit="return check_phone()">
    <div class="form-group">
        <label>姓名：</label>
        <input type="text" class="form-control" name="visitName" placeholder="请输入姓名">
    </div>
    <div class="form-group">
        <label>手机号：</label>
        <input type="text" class="form-control" name="visitPhone" placeholder="请输入手机号">
    </div>
    <div class="form-group">
        <label>开始日期：</label>
        <input type="text" class="form-control" id="test1" name="startTime">
    </div>
    <div class="form-group">
        <label>结束日期：</label>
        <input type="text" class="form-control" id="test2" name="endTime">
    </div>
    <button type="submit" class="btn btn-primary" style="margin-left: 10px;">查询</button>
</form>
<form action="/paging" method="post">
<table class="table table-striped table-hover table-bordered" style="width:90%;margin-top:30px;margin-left:5%">
    <thead>
        <tr>
            <th><input type="checkbox" onclick="swapCheck()"></th>
            <th style="text-align:center">来访者姓名</th>
            <th style="text-align:center">来访者手机</th>
            <th style="text-align:center">身份证号</th>
            <th style="text-align:center">来访时间</th>
            <th style="text-align:center">到访事由</th>
            <th style="text-align:center">审核状态</th>
        </tr>
    </thead>
    <tbody>
        <button type="submit" class="btn btn-primary" style="position: relative;left: 78%;margin-top: -57px;">审核</button>
        <tr th:each="infoDTO : ${pages.infoDTOS}">
            <th style="width:30px;">
                <input type="checkbox" name="visitPhone" th:value="${infoDTO.visitPhone}">
            </th>
            <td th:text="${infoDTO.visitName}" style="text-align:left"></td>
            <td th:text="${infoDTO.visitPhone}" style="text-align:center"></td>
            <td th:text="${infoDTO.idNo}" style="text-align:center"></td>
            <td th:text="${infoDTO.visitTime}" style="text-align:center"></td>
            <td th:text="${infoDTO.visitReason}" style="text-align:left"></td>
            <td th:if="${infoDTO.status} == '0'" style="text-align:center">未审核</td>
            <td th:if="${infoDTO.status} == '1'" style="text-align:center">已审核</td>
        </tr>
    </tbody>
</table>
</form>
<div id="page">
    <nav aria-label="Page navigation" style="position:relative;left:45%;width:fit-content">
        <ul class="pagination">
            <div class="btn-group dropup" style="right: 120%;">
                <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    页面展示数据量<span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li>
                        <a href="/paging/?size=10">10</a>
                    </li>
                    <li>
                        <a href="/paging/?size=20">20</a>
                    </li>
                    <li>
                        <a href="/paging/?size=30">30</a>
                    </li>
                </ul>
            </div>
            <li th:if="${pages.showFirstPage}">
                <a th:href="@{'/paging/?page=1&size='+${pages.size}+'&visitName='+${pages.visitName}+'&visitPhone='+${pages.visitPhone}+'&startTime='+${pages.startTime}+'&endTime='+${pages.endTime}}" aria-label="Previous">
                    <span aria-hidden="true">&lt&lt;</span>
                </a>
            </li>
            <li th:if="${pages.showPrevious}">
                <a th:href="@{'/paging/?page='+${pages.page-1}+'&size='+${pages.size}+'&visitName='+${pages.visitName}+'&visitPhone='+${pages.visitPhone}+'&startTime='+${pages.startTime}+'&endTime='+${pages.endTime}}" aria-label="Previous">
                    <span aria-hidden="true">&lt;</span>
                </a>
            </li>

            <li th:each="page : ${pages.pages}" th:class="${pages.page==page}? 'active':''"><a th:href="@{'/paging/?page='+${page}+'&size='+${pages.size}+'&visitName='+${pages.visitName}+'&visitPhone='+${pages.visitPhone}+'&startTime='+${pages.startTime}+'&endTime='+${pages.endTime}}" th:text="${page}"></a></li>
            <li th:if="${pages.showNext}">
                <a th:href="@{'/paging/?page='+${pages.page+1}+'&size='+${pages.size}+'&visitName='+${pages.visitName}+'&visitPhone='+${pages.visitPhone}+'&startTime='+${pages.startTime}+'&endTime='+${pages.endTime}}" aria-label="Previous">
                    <span aria-hidden="true">&gt;</span>
                </a>
            </li>
            <li th:if="${pages.showEndPage}">
                <a th:href="@{'/paging/?page='+${pages.totalPage}+'&size='+${pages.size}+'&visitName='+${pages.visitName}+'&visitPhone='+${pages.visitPhone}+'&startTime='+${pages.startTime}+'&endTime='+${pages.endTime}}" aria-label="Previous">
                    <span aria-hidden="true">&gt&gt;</span>
                </a>
            </li>
        </ul>
    </nav>
</div>

<script>
    laydate.render({
      elem: '#test1',
      value: new Date(),
      max: 0,
      isInitValue: false,
    });
    laydate.render({
      elem: '#test2',
      value: new Date(),
      max: 0,
      isInitValue: false,
    });
    var page = new Vue({
        el: '#page',
        data: {
            selected: ''
        }
    });
    var isCheckAll = false;
    function swapCheck() {
        if (isCheckAll) {
            $("input[type='checkbox']").each(function() {
                this.checked = false;
            });
            isCheckAll = false;
        } else {
            $("input[type='checkbox']").each(function() {
                this.checked = true;
            });
            isCheckAll = true;
        }
    }
</script>
</body>
</html>